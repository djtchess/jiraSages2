@use '@angular/material' as mat;

$dark-primary: mat.m2-define-palette(mat.$m2-indigo-palette, 500);
$dark-accent: mat.m2-define-palette(mat.$m2-cyan-palette, A200, A100, A400);
$dark-warn: mat.m2-define-palette(mat.$m2-red-palette);

$light-primary: mat.m2-define-palette(mat.$m2-indigo-palette);
$light-accent: mat.m2-define-palette(mat.$m2-cyan-palette, A200, A100, A400);
$light-warn: mat.m2-define-palette(mat.$m2-red-palette);

$dark-theme: mat.m2-define-dark-theme((
  color: (
    primary: $dark-primary,
    accent: $dark-accent,
    warn: $dark-warn,
  )
));

$light-theme: mat.m2-define-light-theme((
  color: (
    primary: $light-primary,
    accent: $light-accent,
    warn: $light-warn,
  )
));

@include mat.core();
@include mat.all-component-themes($light-theme);

:root,
[data-theme='light'] {
  --color-bg: #f3f6fb;
  --color-surface: #ffffff;
  --color-surface-soft: #f8faff;
  --color-text: #0f172a;
  --color-text-muted: #54627a;
  --color-border: #dbe4f2;
  --color-primary: #3558e6;
  --color-primary-strong: #2441b8;
  --color-accent: #00a9d4;
  --color-danger: #d9465f;

  --chart-axis: #5c6f90;
  --chart-grid: rgba(76, 103, 153, 0.2);
  --chart-story: #3563ff;
  --chart-time: #ff8a3d;
  --chart-capacity: #16a34a;

  --radius-md: 12px;
  --radius-lg: 16px;
  --shadow-soft: 0 12px 26px rgba(34, 52, 84, 0.08);
  --shadow: var(--shadow-soft);
  --ring: rgba(53, 88, 230, 0.32);
}

[data-theme='dark'] {
  --color-bg: #090f1d;
  --color-surface: #101a2f;
  --color-surface-soft: #14213d;
  --color-text: #e8efff;
  --color-text-muted: #9cb0d8;
  --color-border: #2a3d67;
  --color-primary: #7da8ff;
  --color-primary-strong: #abc4ff;
  --color-accent: #57e3ff;
  --color-danger: #ff7f96;

  --chart-axis: #b6c8eb;
  --chart-grid: rgba(128, 158, 222, 0.26);
  --chart-story: #81a8ff;
  --chart-time: #ffc068;
  --chart-capacity: #4ade80;

  --shadow-soft: 0 12px 26px rgba(0, 0, 0, 0.35);
  --shadow: var(--shadow-soft);
  --ring: rgba(125, 168, 255, 0.35);
}

html,
body {
  height: 100%;
}

body {
  margin: 0;
  font-family: Inter, Roboto, 'Helvetica Neue', sans-serif;
  background: var(--color-bg);
  color: var(--color-text);
}

.dark-mode {
  @include mat.all-component-colors($dark-theme);
}

mat-toolbar {
  background: linear-gradient(120deg, var(--color-surface), var(--color-surface-soft));
  color: var(--color-text);
  border-bottom: 1px solid var(--color-border);
}

mat-sidenav {
  background: var(--color-surface) !important;
  border-right: 1px solid var(--color-border);
}

mat-nav-list a.mat-mdc-list-item {
  color: var(--color-text-muted) !important;
}

mat-nav-list a.mat-mdc-list-item.active,
mat-nav-list a.mat-mdc-list-item:hover {
  background: color-mix(in srgb, var(--color-primary) 12%, transparent);
  color: var(--color-text) !important;
}

button.mat-mdc-raised-button,
button.mat-mdc-unelevated-button {
  border-radius: var(--radius-md) !important;
  box-shadow: var(--shadow-soft) !important;
}

button.mat-mdc-stroked-button {
  border-radius: var(--radius-md) !important;
}

.mat-mdc-form-field {
  width: 100%;
}

.mat-mdc-table {
  background: var(--color-surface) !important;
  color: var(--color-text) !important;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  overflow: hidden;
}

.mat-mdc-header-row {
  background: var(--color-surface-soft);
}

.mat-mdc-header-cell {
  color: var(--color-text-muted) !important;
  font-weight: 700;
  letter-spacing: 0.2px;
}

.mat-mdc-row:hover {
  background: color-mix(in srgb, var(--color-primary) 10%, transparent) !important;
}

.mat-mdc-paginator {
  background: transparent !important;
  color: var(--color-text-muted) !important;
}
